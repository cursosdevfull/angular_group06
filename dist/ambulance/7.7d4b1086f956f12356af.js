(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4IvS":function(t,e,a){"use strict";a.r(e),a.d(e,"HistoriesModule",function(){return K});var o=a("ofXK"),i=a("tyNb"),s=a("fXoL"),r=a("cmSp"),n=a("lbKw"),c=a("mscp"),l=a("bEII"),b=a("NkUP"),d=a("miTN"),u=a("3S9H"),p=a("AytR"),h=a("3Pt+"),m=a("0IaG"),f=a("/t3+"),y=a("XiUz"),R=a("bTqV"),g=a("NFeN"),S=a("kmnG"),v=a("qFsG");function C(t,e){1&t&&(s.Sb(0,"span",9),s.Ec(1," Campos inv\xe1lidos "),s.Rb())}let A=(()=>{class t{constructor(t,e){var a,o;this.data=t,this.reference=e,this.title="",this.fg=new h.d({id:new h.b(null===(a=this.data)||void 0===a?void 0:a.id),nombre:new h.b(null===(o=this.data)||void 0===o?void 0:o.nombre,h.m.required)})}ngOnInit(){this.title=this.data?"Edici\xf3n":"Nuevo"}save(){this.fg.valid&&this.reference.close(this.fg.value)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(m.a),s.Mb(m.f))},t.\u0275cmp=s.Gb({type:t,selectors:[["amb-form-history"]],decls:22,vars:3,consts:[["fxLayout","","fxLayoutAlign","space-between center"],["mat-icon-button","","mat-dialog-close",""],["fxLayout","column",3,"formGroup"],["appearance","outline"],["type","text","matInput","","formControlName","nombre","required",""],["fxLayout","","fxLayoutAlign","space-between center","fxLayoutGap","20px"],["class","error",4,"ngIf"],["mat-button","","mat-dialog-close","","color","primary","type","button"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"error"]],template:function(t,e){1&t&&(s.Sb(0,"mat-toolbar",0),s.Sb(1,"h3"),s.Ec(2),s.Rb(),s.Sb(3,"button",1),s.Sb(4,"mat-icon"),s.Ec(5,"close"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"mat-dialog-content"),s.Sb(7,"form",2),s.Sb(8,"mat-form-field",3),s.Sb(9,"mat-label"),s.Ec(10,"Nombre"),s.Rb(),s.Nb(11,"input",4),s.Sb(12,"mat-error"),s.Ec(13,"Este campo es obligatorio"),s.Rb(),s.Rb(),s.Sb(14,"div",5),s.Sb(15,"div"),s.Cc(16,C,2,0,"span",6),s.Rb(),s.Sb(17,"div"),s.Sb(18,"button",7),s.Ec(19," Cancelar "),s.Rb(),s.Sb(20,"button",8),s.ac("click",function(){return e.save()}),s.Ec(21," Guardar "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Ab(2),s.Fc(e.title),s.Ab(5),s.jc("formGroup",e.fg),s.Ab(9),s.jc("ngIf",e.fg.invalid))},directives:[f.a,y.c,y.b,R.a,m.c,g.a,m.d,h.n,h.i,h.e,S.c,S.f,v.a,h.a,h.h,h.c,h.l,S.b,y.d,o.k],styles:[".container-modal{width:600px}.container-modal mat-dialog-container{padding:0}.container-modal mat-dialog-content{margin:0;padding:24px}.container-modal mat-toolbar{color:444;border-bottom:1px solid grey;background:#ecedec;background:linear-gradient(#fff,#e0e0e0)}.error{font-style:italic;font-size:12px;color:red}"],encapsulation:2}),t})();class w{mapping(t){return t.map(t=>({Paciente:t.nombre+" "+t.apellido,Sintomas:t.sintomas,Tratamiento:t.tratamiento}))}}var I=a("kh7C");class k{}let P=(()=>{class t{constructor(t){this.historyRepository=t}listAll(){return this.historyRepository.listAll()}insert(t){return this.historyRepository.insert(t)}listByPage(t,e){return this.historyRepository.listByPage(t,e)}delete(t){return this.historyRepository.delete(t)}update(t){return this.historyRepository.update(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(k))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();var x=a("Kdsb"),E=a("Xv+k"),N=a("+0xr"),B=a("Qu3c");function D(t,e){1&t&&s.Nb(0,"th",7)}function G(t,e){if(1&t){const t=s.Tb();s.Sb(0,"td",8),s.Sb(1,"button",9),s.Sb(2,"mat-icon"),s.Ec(3,"edit"),s.Rb(),s.Rb(),s.Sb(4,"button",10),s.ac("click",function(){s.tc(t);const a=e.$implicit;return s.ec().delete(a)}),s.Sb(5,"mat-icon"),s.Ec(6,"delete"),s.Rb(),s.Rb(),s.Rb()}}let T=(()=>{class t extends l.a{constructor(t,e){super(),this.utils=t,this.historyUseCase=e,this.metaDataColumns=[{field:"nombre",title:"Nombre"},{field:"apellido",title:"Apellido"},{field:"dni",title:"DNI"}],this.data=[],this.totalRecords=0,this.tipoRoles=u.a,this.listKeyPadButtons=[{icon:"add",color:"primary",action:b.b,tooltip:"AGREGAR HISTORIA"},{icon:"cloud_download",color:"accent",action:b.a,tooltip:"EXPORTAR DATA"}],this.list(0)}list(t){this.historyUseCase.listByPage(t,p.a.pageSize).subscribe(t=>{this.dataByPage=t.records,this.totalRecords=t.totalRecords})}delete(t){this.utils.confirm(`\xbfQuiere eliminar la historia ${t.nhistoria}?`).subscribe(e=>{e&&this.historyUseCase.delete(t).subscribe(()=>{this.list(0)})})}openForm(t,e=null){null==t||t.stopPropagation(),this.utils.openModal(A,{disableClose:!0,panelClass:"container-modal",data:e}).afterClosed().subscribe(t=>{t&&(t.id?this.historyUseCase.update(t).subscribe(t=>{this.list(0)}):(delete t.id,this.historyUseCase.insert(t).subscribe(t=>{this.list(0)})))})}openOptionsExport(){this.historyUseCase.listAll().subscribe(t=>{const e=new w;this.utils.openSheet(t,e,"Listado de atenciones","pacientes")})}actionButton(t){switch(t){case b.b:this.openForm(null,null);break;case b.a:this.openOptionsExport()}}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(I.a),s.Mb(P))},t.\u0275cmp=s.Gb({type:t,selectors:[["amb-list-histories"]],viewQuery:function(t,e){if(1&t&&s.Ic(d.a,!0),2&t){let t;s.pc(t=s.bc())&&(e.paginatorComponent=t.first)}},features:[s.xb],decls:7,vars:5,consts:[[1,"heightMaxPerfectScrollbar"],[3,"data","metaDataColumns","totalRecords"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","align-right",4,"matCellDef"],[3,"totalRecords","onDataChange"],[3,"keypadButtons","clickButton"],["mat-header-cell",""],["mat-cell","",1,"align-right"],["mat-button","","color","primary","matTooltip","EDITAR"],["mat-button","","color","accent","matTooltip","ELIMINAR",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"perfect-scrollbar",0),s.Sb(1,"amb-table",1),s.Qb(2,2),s.Cc(3,D,1,0,"th",3),s.Cc(4,G,7,0,"td",4),s.Pb(),s.Rb(),s.Rb(),s.Sb(5,"amb-paginator",5),s.ac("onDataChange",function(t){return e.loadData(t)}),s.Rb(),s.Sb(6,"amb-keypad",6),s.ac("clickButton",function(t){return e.actionButton(t)}),s.Rb()),2&t&&(s.Ab(1),s.jc("data",e.dataByPage)("metaDataColumns",e.metaDataColumns)("totalRecords",e.totalRecords),s.Ab(4),s.jc("totalRecords",e.totalRecords),s.Ab(1),s.jc("keypadButtons",e.listKeyPadButtons))},directives:[x.b,E.a,N.c,N.e,N.b,d.a,b.c,N.d,N.a,R.a,B.a,g.a],styles:[""]}),t})();const L=[{path:"",component:(()=>{class t{constructor(t){this.configService=t,this.configService.configuration={layout:{header:{hidden:!1},menu:{hidden:!1}}}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(r.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["amb-page-history"]],decls:3,vars:0,template:function(t,e){1&t&&(s.Nb(0,"amb-title"),s.Sb(1,"amb-container"),s.Nb(2,"amb-list-histories"),s.Rb())},directives:[n.a,c.a,T],styles:[""]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(L)],i.e]}),t})();var $=a("PCNd"),j=a("tk/3");let U=(()=>{class t extends k{constructor(t){super(),this.http=t}listAll(){return this.http.get(p.a.pathAPIRest+"/histories")}insert(t){return this.http.post(p.a.pathAPIRest+"/histories",t)}listByPage(t,e){return this.http.get(`${p.a.pathAPIRest}/histories/page/${t}/${e}`)}delete(t){return this.http.delete(`${p.a.pathAPIRest}/histories/${t.id}`)}update(t){const e=Object.assign({},t);return delete e.id,this.http.put(`${p.a.pathAPIRest}/histories/${t.id}`,e)}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(j.b))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})(),K=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},providers:[{provide:k,useClass:U},P],imports:[[o.c,M,$.a]]}),t})()}}]);